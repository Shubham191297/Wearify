{"ast":null,"code":"var _jsxFileName = \"/Users/sthapliyal/Desktop/Wearify/frontend/wearify/src/pages/CheckoutPage.js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport CheckoutForm from \"../layouts/CheckoutForm\";\nimport { Await, defer, useLoaderData } from \"react-router-dom\";\nimport { getCSRFToken } from \"../context/auth\";\nimport { Suspense } from \"react\";\nimport ErrorPage from \"../layouts/ErrorPage\";\n\n// Make sure to call `loadStripe` outside of a component’s render to avoid\n// recreating the `Stripe` object on every render.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"pk_test_51MM08RSARoTdkEygCUfdGYs2XOxONndFij0XXSWBcyGZBHAuOsa8ZyaNMzDLayqcVJmqufCcxpp9qJ2HWGgrVQ9H0050SA7Gov\");\nfunction CheckoutPage() {\n  // const { checkoutData } = useLoaderData();\n\n  // return (\n  //   <Suspense fallback={<div>Loading...</div>}>\n  //     <Await resolve={checkoutData} errorElement={<ErrorPage />}>\n  //       {(loadCheckout) => {\n  //         const options = { clientSecret: loadCheckout.sessionId };\n  //         console.log(loadCheckout, options);\n  //         return (\n  return /*#__PURE__*/_jsxDEV(Elements, {\n    stripe: stripePromise,\n    options: {\n      options\n    },\n    children: /*#__PURE__*/_jsxDEV(CheckoutForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n  //       );\n  //     }}\n  //   </Await>\n  // </Suspense>\n  // );\n}\n_c = CheckoutPage;\nexport default CheckoutPage;\n\n// async function loadCheckoutData() {\n//   const csrfToken = await getCSRFToken();\n\n//   const resData = await fetch(\"http://localhost:5000/checkout\", {\n//     headers: {\n//       \"X-CSRF-Token\": csrfToken,\n//     },\n//     credentials: \"include\",\n//   });\n//   const checkoutData = await resData.json();\n\n//   return checkoutData;\n// }\n\n// export function loader() {\n//   return defer({\n//     checkoutData: loadCheckoutData(),\n//   });\n// }\n\n// import React, { Suspense } from \"react\";\n// import { Await, useLoaderData, Form, redirect, Link } from \"react-router-dom\";\n// import ErrorPage from \"../layouts/ErrorPage\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import { PaymentElement } from \"@stripe/react-stripe-js\";\n\n// const stripePromise = loadStripe(\n//   \"pk_test_51MM08RSARoTdkEygCUfdGYs2XOxONndFij0XXSWBcyGZBHAuOsa8ZyaNMzDLayqcVJmqufCcxpp9qJ2HWGgrVQ9H0050SA7Gov\"\n// );\n\n// const CheckoutPage = () => {\n//   // const { shoppingBag: checkoutData } = useLoaderData();\n//   const options = {\n//     clientSecret:\n//       \"sk_test_51MM08RSARoTdkEyg0BxRBlmAb8jsdpzebSepcdV7f6IeMpcdSMZ2t2HFZKLDspp0t4bGbN5aodGzpE9r7Y0A6pmu006ZMOpoQR\",\n//   };\n\n//   return (\n//     <Elements stripe={stripePromise} options={options}>\n//       <form>\n//         <PaymentElement />\n//         <button>Submit</button>\n//       </form>\n//     </Elements>\n//   );\n\n//   // return (\n//   //   <div>\n//   //     <Suspense>\n//   //       <Await resolve={checkoutData} errorElement={<ErrorPage />}>\n//   //         {(checkoutDetails) => {\n//   //           if (!checkoutDetails || checkoutDetails?.items.length === 0) {\n//   //             return redirect(\"/shoppingBag\");\n//   //           }\n//   //           return (\n//   //             <div className=\"flex w-full justify-center mt-6\">\n//   //               <div className=\"pointer-events-auto border-2 rounded-md w-4/5 flex flex-col\">\n//   //                 <div className=\"flex-1 overflow-y-auto px-4 py-6 sm:px-6 justify-center\">\n//   //                   <h1\n//   //                     className=\"text-xl font-medium text-gray-900\"\n//   //                     id=\"slide-over-title\"\n//   //                   >\n//   //                     Checkout Page\n//   //                   </h1>\n//   //                   <div className=\"flex justify-center\">\n//   //                     <div className=\"mt-8 w-11/12\">\n//   //                       <ul className=\"my-6 divide-y divide-gray-200 px-20\">\n//   //                         {checkoutDetails.items.map((item) => (\n//   //                           <li\n//   //                             className=\"flex py-6\"\n//   //                             key={item.productData._id}\n//   //                           >\n//   //                             <div className=\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\n//   //                               <img\n//   //                                 src={`http://localhost:5000/${item.productData.image}`}\n//   //                                 alt=\"Salmon orange fabric pouch with match zipper, gray zipper pull, and adjustable hip belt.\"\n//   //                                 className=\"h-full w-full object-cover object-center\"\n//   //                               />\n//   //                             </div>\n\n//   //                             <div className=\"ml-4 flex flex-1 flex-col\">\n//   //                               <div>\n//   //                                 <div className=\"flex justify-between text-base font-medium text-gray-900\">\n//   //                                   <h3>\n//   //                                     <Link to=\"#\">\n//   //                                       {item.productData.title}\n//   //                                     </Link>\n//   //                                   </h3>\n//   //                                   <p className=\"ml-4\">\n//   //                                     Rs. {item.productData.price}\n//   //                                   </p>\n//   //                                 </div>\n//   //                                 <p className=\"mt-1 text-sm text-gray-500\">\n//   //                                   {item.description}\n//   //                                 </p>\n//   //                               </div>\n//   //                               <div className=\"flex flex-1 items-end justify-between text-sm\">\n//   //                                 <p className=\"text-gray-500\">\n//   //                                   Qty x {item.quantity}\n//   //                                 </p>\n//   //                               </div>\n//   //                             </div>\n//   //                           </li>\n//   //                         ))}\n//   //                       </ul>\n//   //                     </div>\n//   //                   </div>\n//   //                 </div>\n//   //                 <div className=\"flex justify-center items-center\">\n//   //                   <div className=\"border-t border-gray-200 w-4/5 px-4 py-6 sm:px-6\">\n//   //                     <div className=\"flex justify-between text-base font-medium text-gray-900\">\n//   //                       <p>Total</p>\n//   //                       <p>Rs. {checkoutDetails.totalPrice}</p>\n//   //                     </div>\n//   //                     <div className=\"mt-6 flex-1 \">\n//   //                       <Form method=\"POST\">\n//   //                         <input\n//   //                           type=\"hidden\"\n//   //                           name=\"bagId\"\n//   //                           value={checkoutDetails.id}\n//   //                         />\n//   //                         <button\n//   //                           className=\"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-2 py-3 mx-40 w-3/4 text-base font-medium text-white shadow-sm hover:bg-indigo-700\"\n//   //                           type=\"submit\"\n//   //                         >\n//   //                           Order Now!\n//   //                         </button>\n//   //                       </Form>\n//   //                     </div>\n//   //                   </div>\n//   //                 </div>\n//   //               </div>\n//   //             </div>\n//   //           );\n//   //         }}\n//   //       </Await>\n//   //     </Suspense>\n//   //   </div>\n//   // );\n// };\n\n// export default CheckoutPage;\nvar _c;\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"names":["Elements","loadStripe","CheckoutForm","Await","defer","useLoaderData","getCSRFToken","Suspense","ErrorPage","jsxDEV","_jsxDEV","stripePromise","CheckoutPage","stripe","options","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/sthapliyal/Desktop/Wearify/frontend/wearify/src/pages/CheckoutPage.js"],"sourcesContent":["import { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport CheckoutForm from \"../layouts/CheckoutForm\";\nimport { Await, defer, useLoaderData } from \"react-router-dom\";\nimport { getCSRFToken } from \"../context/auth\";\nimport { Suspense } from \"react\";\nimport ErrorPage from \"../layouts/ErrorPage\";\n\n// Make sure to call `loadStripe` outside of a component’s render to avoid\n// recreating the `Stripe` object on every render.\nconst stripePromise = loadStripe(\n  \"pk_test_51MM08RSARoTdkEygCUfdGYs2XOxONndFij0XXSWBcyGZBHAuOsa8ZyaNMzDLayqcVJmqufCcxpp9qJ2HWGgrVQ9H0050SA7Gov\"\n);\n\nfunction CheckoutPage() {\n  // const { checkoutData } = useLoaderData();\n\n  // return (\n  //   <Suspense fallback={<div>Loading...</div>}>\n  //     <Await resolve={checkoutData} errorElement={<ErrorPage />}>\n  //       {(loadCheckout) => {\n  //         const options = { clientSecret: loadCheckout.sessionId };\n  //         console.log(loadCheckout, options);\n  //         return (\n  return (\n    <Elements stripe={stripePromise} options={{ options }}>\n      <CheckoutForm />\n    </Elements>\n  );\n  //       );\n  //     }}\n  //   </Await>\n  // </Suspense>\n  // );\n}\n\nexport default CheckoutPage;\n\n// async function loadCheckoutData() {\n//   const csrfToken = await getCSRFToken();\n\n//   const resData = await fetch(\"http://localhost:5000/checkout\", {\n//     headers: {\n//       \"X-CSRF-Token\": csrfToken,\n//     },\n//     credentials: \"include\",\n//   });\n//   const checkoutData = await resData.json();\n\n//   return checkoutData;\n// }\n\n// export function loader() {\n//   return defer({\n//     checkoutData: loadCheckoutData(),\n//   });\n// }\n\n// import React, { Suspense } from \"react\";\n// import { Await, useLoaderData, Form, redirect, Link } from \"react-router-dom\";\n// import ErrorPage from \"../layouts/ErrorPage\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import { PaymentElement } from \"@stripe/react-stripe-js\";\n\n// const stripePromise = loadStripe(\n//   \"pk_test_51MM08RSARoTdkEygCUfdGYs2XOxONndFij0XXSWBcyGZBHAuOsa8ZyaNMzDLayqcVJmqufCcxpp9qJ2HWGgrVQ9H0050SA7Gov\"\n// );\n\n// const CheckoutPage = () => {\n//   // const { shoppingBag: checkoutData } = useLoaderData();\n//   const options = {\n//     clientSecret:\n//       \"sk_test_51MM08RSARoTdkEyg0BxRBlmAb8jsdpzebSepcdV7f6IeMpcdSMZ2t2HFZKLDspp0t4bGbN5aodGzpE9r7Y0A6pmu006ZMOpoQR\",\n//   };\n\n//   return (\n//     <Elements stripe={stripePromise} options={options}>\n//       <form>\n//         <PaymentElement />\n//         <button>Submit</button>\n//       </form>\n//     </Elements>\n//   );\n\n//   // return (\n//   //   <div>\n//   //     <Suspense>\n//   //       <Await resolve={checkoutData} errorElement={<ErrorPage />}>\n//   //         {(checkoutDetails) => {\n//   //           if (!checkoutDetails || checkoutDetails?.items.length === 0) {\n//   //             return redirect(\"/shoppingBag\");\n//   //           }\n//   //           return (\n//   //             <div className=\"flex w-full justify-center mt-6\">\n//   //               <div className=\"pointer-events-auto border-2 rounded-md w-4/5 flex flex-col\">\n//   //                 <div className=\"flex-1 overflow-y-auto px-4 py-6 sm:px-6 justify-center\">\n//   //                   <h1\n//   //                     className=\"text-xl font-medium text-gray-900\"\n//   //                     id=\"slide-over-title\"\n//   //                   >\n//   //                     Checkout Page\n//   //                   </h1>\n//   //                   <div className=\"flex justify-center\">\n//   //                     <div className=\"mt-8 w-11/12\">\n//   //                       <ul className=\"my-6 divide-y divide-gray-200 px-20\">\n//   //                         {checkoutDetails.items.map((item) => (\n//   //                           <li\n//   //                             className=\"flex py-6\"\n//   //                             key={item.productData._id}\n//   //                           >\n//   //                             <div className=\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\n//   //                               <img\n//   //                                 src={`http://localhost:5000/${item.productData.image}`}\n//   //                                 alt=\"Salmon orange fabric pouch with match zipper, gray zipper pull, and adjustable hip belt.\"\n//   //                                 className=\"h-full w-full object-cover object-center\"\n//   //                               />\n//   //                             </div>\n\n//   //                             <div className=\"ml-4 flex flex-1 flex-col\">\n//   //                               <div>\n//   //                                 <div className=\"flex justify-between text-base font-medium text-gray-900\">\n//   //                                   <h3>\n//   //                                     <Link to=\"#\">\n//   //                                       {item.productData.title}\n//   //                                     </Link>\n//   //                                   </h3>\n//   //                                   <p className=\"ml-4\">\n//   //                                     Rs. {item.productData.price}\n//   //                                   </p>\n//   //                                 </div>\n//   //                                 <p className=\"mt-1 text-sm text-gray-500\">\n//   //                                   {item.description}\n//   //                                 </p>\n//   //                               </div>\n//   //                               <div className=\"flex flex-1 items-end justify-between text-sm\">\n//   //                                 <p className=\"text-gray-500\">\n//   //                                   Qty x {item.quantity}\n//   //                                 </p>\n//   //                               </div>\n//   //                             </div>\n//   //                           </li>\n//   //                         ))}\n//   //                       </ul>\n//   //                     </div>\n//   //                   </div>\n//   //                 </div>\n//   //                 <div className=\"flex justify-center items-center\">\n//   //                   <div className=\"border-t border-gray-200 w-4/5 px-4 py-6 sm:px-6\">\n//   //                     <div className=\"flex justify-between text-base font-medium text-gray-900\">\n//   //                       <p>Total</p>\n//   //                       <p>Rs. {checkoutDetails.totalPrice}</p>\n//   //                     </div>\n//   //                     <div className=\"mt-6 flex-1 \">\n//   //                       <Form method=\"POST\">\n//   //                         <input\n//   //                           type=\"hidden\"\n//   //                           name=\"bagId\"\n//   //                           value={checkoutDetails.id}\n//   //                         />\n//   //                         <button\n//   //                           className=\"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-2 py-3 mx-40 w-3/4 text-base font-medium text-white shadow-sm hover:bg-indigo-700\"\n//   //                           type=\"submit\"\n//   //                         >\n//   //                           Order Now!\n//   //                         </button>\n//   //                       </Form>\n//   //                     </div>\n//   //                   </div>\n//   //                 </div>\n//   //               </div>\n//   //             </div>\n//   //           );\n//   //         }}\n//   //       </Await>\n//   //     </Suspense>\n//   //   </div>\n//   // );\n// };\n\n// export default CheckoutPage;\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,yBAAyB;AAClD,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,OAAOC,YAAY,MAAM,yBAAyB;AAClD,SAASC,KAAK,EAAEC,KAAK,EAAEC,aAAa,QAAQ,kBAAkB;AAC9D,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,SAAS,MAAM,sBAAsB;;AAE5C;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,aAAa,GAAGV,UAAU,CAC9B,6GACF,CAAC;AAED,SAASW,YAAYA,CAAA,EAAG;EACtB;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,oBACEF,OAAA,CAACV,QAAQ;IAACa,MAAM,EAAEF,aAAc;IAACG,OAAO,EAAE;MAAEA;IAAQ,CAAE;IAAAC,QAAA,eACpDL,OAAA,CAACR,YAAY;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;EAEb;EACA;EACA;EACA;EACA;AACF;AAACC,EAAA,GApBQR,YAAY;AAsBrB,eAAeA,YAAY;;AAE3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,IAAAQ,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}