{"ast":null,"code":"var _jsxFileName = \"/Users/sthapliyal/Desktop/Wearify/frontend/wearify/src/pages/CheckoutPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { PaymentElement } from \"@stripe/react-stripe-js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"pk_test_your_public_key\");\nconst CheckoutPage = () => {\n  _s();\n  const [clientSecret, setClientSecret] = useState(\"\");\n  useEffect(() => {\n    const fetchClientSecret = async () => {\n      try {\n        const response = await fetch(\"/create-payment-intent\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            amount: 5000\n          }) // Example amount\n        });\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        const data = await response.json();\n        setClientSecret(data.clientSecret);\n      } catch (error) {\n        console.error(\"Error fetching client secret:\", error);\n      }\n    };\n    fetchClientSecret();\n  }, []);\n  if (!clientSecret) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 12\n    }, this); // Add loading state\n  }\n  const options = {\n    clientSecret: clientSecret\n  };\n  return /*#__PURE__*/_jsxDEV(Elements, {\n    stripe: stripePromise,\n    options: options,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(PaymentElement, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(CheckoutPage, \"jqw4P0KD6AlEQm6tlb46UlrlFAA=\");\n_c = CheckoutPage;\nexport default CheckoutPage;\n\n// import React, { Suspense } from \"react\";\n// import { Await, useLoaderData, Form, redirect, Link } from \"react-router-dom\";\n// import ErrorPage from \"../layouts/ErrorPage\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import { PaymentElement } from \"@stripe/react-stripe-js\";\n\n// const stripePromise = loadStripe(\n//   \"pk_test_51MM08RSARoTdkEygCUfdGYs2XOxONndFij0XXSWBcyGZBHAuOsa8ZyaNMzDLayqcVJmqufCcxpp9qJ2HWGgrVQ9H0050SA7Gov\"\n// );\n\n// const CheckoutPage = () => {\n//   // const { shoppingBag: checkoutData } = useLoaderData();\n//   const options = {\n//     clientSecret:\n//       \"sk_test_51MM08RSARoTdkEyg0BxRBlmAb8jsdpzebSepcdV7f6IeMpcdSMZ2t2HFZKLDspp0t4bGbN5aodGzpE9r7Y0A6pmu006ZMOpoQR\",\n//   };\n\n//   return (\n//     <Elements stripe={stripePromise} options={options}>\n//       <form>\n//         <PaymentElement />\n//         <button>Submit</button>\n//       </form>\n//     </Elements>\n//   );\n\n//   // return (\n//   //   <div>\n//   //     <Suspense>\n//   //       <Await resolve={checkoutData} errorElement={<ErrorPage />}>\n//   //         {(checkoutDetails) => {\n//   //           if (!checkoutDetails || checkoutDetails?.items.length === 0) {\n//   //             return redirect(\"/shoppingBag\");\n//   //           }\n//   //           return (\n//   //             <div className=\"flex w-full justify-center mt-6\">\n//   //               <div className=\"pointer-events-auto border-2 rounded-md w-4/5 flex flex-col\">\n//   //                 <div className=\"flex-1 overflow-y-auto px-4 py-6 sm:px-6 justify-center\">\n//   //                   <h1\n//   //                     className=\"text-xl font-medium text-gray-900\"\n//   //                     id=\"slide-over-title\"\n//   //                   >\n//   //                     Checkout Page\n//   //                   </h1>\n//   //                   <div className=\"flex justify-center\">\n//   //                     <div className=\"mt-8 w-11/12\">\n//   //                       <ul className=\"my-6 divide-y divide-gray-200 px-20\">\n//   //                         {checkoutDetails.items.map((item) => (\n//   //                           <li\n//   //                             className=\"flex py-6\"\n//   //                             key={item.productData._id}\n//   //                           >\n//   //                             <div className=\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\n//   //                               <img\n//   //                                 src={`http://localhost:5000/${item.productData.image}`}\n//   //                                 alt=\"Salmon orange fabric pouch with match zipper, gray zipper pull, and adjustable hip belt.\"\n//   //                                 className=\"h-full w-full object-cover object-center\"\n//   //                               />\n//   //                             </div>\n\n//   //                             <div className=\"ml-4 flex flex-1 flex-col\">\n//   //                               <div>\n//   //                                 <div className=\"flex justify-between text-base font-medium text-gray-900\">\n//   //                                   <h3>\n//   //                                     <Link to=\"#\">\n//   //                                       {item.productData.title}\n//   //                                     </Link>\n//   //                                   </h3>\n//   //                                   <p className=\"ml-4\">\n//   //                                     Rs. {item.productData.price}\n//   //                                   </p>\n//   //                                 </div>\n//   //                                 <p className=\"mt-1 text-sm text-gray-500\">\n//   //                                   {item.description}\n//   //                                 </p>\n//   //                               </div>\n//   //                               <div className=\"flex flex-1 items-end justify-between text-sm\">\n//   //                                 <p className=\"text-gray-500\">\n//   //                                   Qty x {item.quantity}\n//   //                                 </p>\n//   //                               </div>\n//   //                             </div>\n//   //                           </li>\n//   //                         ))}\n//   //                       </ul>\n//   //                     </div>\n//   //                   </div>\n//   //                 </div>\n//   //                 <div className=\"flex justify-center items-center\">\n//   //                   <div className=\"border-t border-gray-200 w-4/5 px-4 py-6 sm:px-6\">\n//   //                     <div className=\"flex justify-between text-base font-medium text-gray-900\">\n//   //                       <p>Total</p>\n//   //                       <p>Rs. {checkoutDetails.totalPrice}</p>\n//   //                     </div>\n//   //                     <div className=\"mt-6 flex-1 \">\n//   //                       <Form method=\"POST\">\n//   //                         <input\n//   //                           type=\"hidden\"\n//   //                           name=\"bagId\"\n//   //                           value={checkoutDetails.id}\n//   //                         />\n//   //                         <button\n//   //                           className=\"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-2 py-3 mx-40 w-3/4 text-base font-medium text-white shadow-sm hover:bg-indigo-700\"\n//   //                           type=\"submit\"\n//   //                         >\n//   //                           Order Now!\n//   //                         </button>\n//   //                       </Form>\n//   //                     </div>\n//   //                   </div>\n//   //                 </div>\n//   //               </div>\n//   //             </div>\n//   //           );\n//   //         }}\n//   //       </Await>\n//   //     </Suspense>\n//   //   </div>\n//   // );\n// };\n\n// export default CheckoutPage;\nvar _c;\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"names":["React","useEffect","useState","Elements","loadStripe","PaymentElement","jsxDEV","_jsxDEV","stripePromise","CheckoutPage","_s","clientSecret","setClientSecret","fetchClientSecret","response","fetch","method","headers","body","JSON","stringify","amount","ok","Error","data","json","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","options","stripe","type","_c","$RefreshReg$"],"sources":["/Users/sthapliyal/Desktop/Wearify/frontend/wearify/src/pages/CheckoutPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { PaymentElement } from \"@stripe/react-stripe-js\";\n\nconst stripePromise = loadStripe(\"pk_test_your_public_key\");\n\nconst CheckoutPage = () => {\n  const [clientSecret, setClientSecret] = useState(\"\");\n\n  useEffect(() => {\n    const fetchClientSecret = async () => {\n      try {\n        const response = await fetch(\"/create-payment-intent\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ amount: 5000 }), // Example amount\n        });\n\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n\n        const data = await response.json();\n        setClientSecret(data.clientSecret);\n      } catch (error) {\n        console.error(\"Error fetching client secret:\", error);\n      }\n    };\n\n    fetchClientSecret();\n  }, []);\n\n  if (!clientSecret) {\n    return <div>Loading...</div>; // Add loading state\n  }\n\n  const options = {\n    clientSecret: clientSecret,\n  };\n\n  return (\n    <Elements stripe={stripePromise} options={options}>\n      <form>\n        <PaymentElement />\n        <button type=\"submit\">Submit</button>\n      </form>\n    </Elements>\n  );\n};\n\nexport default CheckoutPage;\n\n// import React, { Suspense } from \"react\";\n// import { Await, useLoaderData, Form, redirect, Link } from \"react-router-dom\";\n// import ErrorPage from \"../layouts/ErrorPage\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import { PaymentElement } from \"@stripe/react-stripe-js\";\n\n// const stripePromise = loadStripe(\n//   \"pk_test_51MM08RSARoTdkEygCUfdGYs2XOxONndFij0XXSWBcyGZBHAuOsa8ZyaNMzDLayqcVJmqufCcxpp9qJ2HWGgrVQ9H0050SA7Gov\"\n// );\n\n// const CheckoutPage = () => {\n//   // const { shoppingBag: checkoutData } = useLoaderData();\n//   const options = {\n//     clientSecret:\n//       \"sk_test_51MM08RSARoTdkEyg0BxRBlmAb8jsdpzebSepcdV7f6IeMpcdSMZ2t2HFZKLDspp0t4bGbN5aodGzpE9r7Y0A6pmu006ZMOpoQR\",\n//   };\n\n//   return (\n//     <Elements stripe={stripePromise} options={options}>\n//       <form>\n//         <PaymentElement />\n//         <button>Submit</button>\n//       </form>\n//     </Elements>\n//   );\n\n//   // return (\n//   //   <div>\n//   //     <Suspense>\n//   //       <Await resolve={checkoutData} errorElement={<ErrorPage />}>\n//   //         {(checkoutDetails) => {\n//   //           if (!checkoutDetails || checkoutDetails?.items.length === 0) {\n//   //             return redirect(\"/shoppingBag\");\n//   //           }\n//   //           return (\n//   //             <div className=\"flex w-full justify-center mt-6\">\n//   //               <div className=\"pointer-events-auto border-2 rounded-md w-4/5 flex flex-col\">\n//   //                 <div className=\"flex-1 overflow-y-auto px-4 py-6 sm:px-6 justify-center\">\n//   //                   <h1\n//   //                     className=\"text-xl font-medium text-gray-900\"\n//   //                     id=\"slide-over-title\"\n//   //                   >\n//   //                     Checkout Page\n//   //                   </h1>\n//   //                   <div className=\"flex justify-center\">\n//   //                     <div className=\"mt-8 w-11/12\">\n//   //                       <ul className=\"my-6 divide-y divide-gray-200 px-20\">\n//   //                         {checkoutDetails.items.map((item) => (\n//   //                           <li\n//   //                             className=\"flex py-6\"\n//   //                             key={item.productData._id}\n//   //                           >\n//   //                             <div className=\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\n//   //                               <img\n//   //                                 src={`http://localhost:5000/${item.productData.image}`}\n//   //                                 alt=\"Salmon orange fabric pouch with match zipper, gray zipper pull, and adjustable hip belt.\"\n//   //                                 className=\"h-full w-full object-cover object-center\"\n//   //                               />\n//   //                             </div>\n\n//   //                             <div className=\"ml-4 flex flex-1 flex-col\">\n//   //                               <div>\n//   //                                 <div className=\"flex justify-between text-base font-medium text-gray-900\">\n//   //                                   <h3>\n//   //                                     <Link to=\"#\">\n//   //                                       {item.productData.title}\n//   //                                     </Link>\n//   //                                   </h3>\n//   //                                   <p className=\"ml-4\">\n//   //                                     Rs. {item.productData.price}\n//   //                                   </p>\n//   //                                 </div>\n//   //                                 <p className=\"mt-1 text-sm text-gray-500\">\n//   //                                   {item.description}\n//   //                                 </p>\n//   //                               </div>\n//   //                               <div className=\"flex flex-1 items-end justify-between text-sm\">\n//   //                                 <p className=\"text-gray-500\">\n//   //                                   Qty x {item.quantity}\n//   //                                 </p>\n//   //                               </div>\n//   //                             </div>\n//   //                           </li>\n//   //                         ))}\n//   //                       </ul>\n//   //                     </div>\n//   //                   </div>\n//   //                 </div>\n//   //                 <div className=\"flex justify-center items-center\">\n//   //                   <div className=\"border-t border-gray-200 w-4/5 px-4 py-6 sm:px-6\">\n//   //                     <div className=\"flex justify-between text-base font-medium text-gray-900\">\n//   //                       <p>Total</p>\n//   //                       <p>Rs. {checkoutDetails.totalPrice}</p>\n//   //                     </div>\n//   //                     <div className=\"mt-6 flex-1 \">\n//   //                       <Form method=\"POST\">\n//   //                         <input\n//   //                           type=\"hidden\"\n//   //                           name=\"bagId\"\n//   //                           value={checkoutDetails.id}\n//   //                         />\n//   //                         <button\n//   //                           className=\"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-2 py-3 mx-40 w-3/4 text-base font-medium text-white shadow-sm hover:bg-indigo-700\"\n//   //                           type=\"submit\"\n//   //                         >\n//   //                           Order Now!\n//   //                         </button>\n//   //                       </Form>\n//   //                     </div>\n//   //                   </div>\n//   //                 </div>\n//   //               </div>\n//   //             </div>\n//   //           );\n//   //         }}\n//   //       </Await>\n//   //     </Suspense>\n//   //   </div>\n//   // );\n// };\n\n// export default CheckoutPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,QAAQ,QAAQ,yBAAyB;AAClD,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,SAASC,cAAc,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,MAAMC,aAAa,GAAGJ,UAAU,CAAC,yBAAyB,CAAC;AAE3D,MAAMK,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACd,MAAMY,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MACpC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,wBAAwB,EAAE;UACrDC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YAAEC,MAAM,EAAE;UAAK,CAAC,CAAC,CAAE;QAC1C,CAAC,CAAC;QAEF,IAAI,CAACP,QAAQ,CAACQ,EAAE,EAAE;UAChB,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;QAChD;QAEA,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;QAClCb,eAAe,CAACY,IAAI,CAACb,YAAY,CAAC;MACpC,CAAC,CAAC,OAAOe,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACvD;IACF,CAAC;IAEDb,iBAAiB,CAAC,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACF,YAAY,EAAE;IACjB,oBAAOJ,OAAA;MAAAqB,QAAA,EAAK;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,CAAC,CAAC;EAChC;EAEA,MAAMC,OAAO,GAAG;IACdtB,YAAY,EAAEA;EAChB,CAAC;EAED,oBACEJ,OAAA,CAACJ,QAAQ;IAAC+B,MAAM,EAAE1B,aAAc;IAACyB,OAAO,EAAEA,OAAQ;IAAAL,QAAA,eAChDrB,OAAA;MAAAqB,QAAA,gBACErB,OAAA,CAACF,cAAc;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAClBzB,OAAA;QAAQ4B,IAAI,EAAC,QAAQ;QAAAP,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEf,CAAC;AAACtB,EAAA,CA1CID,YAAY;AAAA2B,EAAA,GAAZ3B,YAAY;AA4ClB,eAAeA,YAAY;;AAE3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}